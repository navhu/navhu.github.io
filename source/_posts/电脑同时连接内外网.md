---
title: 电脑同时连接内外网
date: 2016-06-22 15:16:52
updated: 2016-06-29
tags:
---


{% blockquote %}
公司没开外网，有时候想查资料的话只能手机开热点。（我宝贵的流量啊！o(>﹏<)o）
但是发现电脑就算连上了WIFI后，也上不了网。折腾一番后，发现：想用WIFI上网，就必须拔掉网线。完事后再插上。
这样插来插去的，麻烦死了。经过查阅，发现是windows路由的问题。需要手动加一条route
{% endblockquote %}


<!-- more -->


{% blockquote %}
**6.29 更新一个批处理**

每次都要去cmd里敲命令，也是麻烦。写了个.bat。一键搞定！

[网盘下载](https://pan.baidu.com/s/1mh6T0fe)    密码: `2pa7`
{% endblockquote %}


打开cmd，输入route print查看路由（此图是网上随便找的，文不对图）
![route](http://ww2.sinaimg.cn/large/0060lm7Tly1fjj4wr556oj30hh08wmxa.jpg)
如上图，红线框中，分别为内网和外网的上网地址，此时，由于内网metric 20 < 外网metric 25，数字小的优先级高，所以内网可以连通，外网上不了。

**解决：**
route delete 0.0.0.0        (删除该路由)
route add 0.0.0.0 mask 0.0.0.0 192.168.43.1 metric 6 （设置外网路由，所有连接全部走wifi）
route add 192.168.22.0 mask 255.255.255.0 192.168.22.1 metric 25 （单独设置内网路由）
差不多就这个意思，192.168.43.1是我的手机热点网关，192.168.22.0是内网网关。
不一样的，自己根据实际情况调试下就好了。
route的具体指令可以去百度。

OK！到此，电脑就能同时用内网工作外网查资料了。